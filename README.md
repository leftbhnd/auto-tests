# Документация

## Настройка окружения
```
pip install pytest
pip install pytest-xdist
pip install pyautogui
pip install PIL
```
## Структура проекта:
`conftest.py` - файл с фикстурами (функциями, которые можно вызывать в тесте без импорта)

`main.py` - файл с классом, методы которого публикуют и получают данные из топика. Также с классами, в которых формируется нужный тип сообщения для топиков.

`helpers.py` - файл для хранения вспомогательных переменных.

`*_test.py` - примеры тестов


## Важно!
+ Название тестов должно содержать: `*_test.py`
+ Внутри тестов функции должны называться: `test*()`

## Запуск тестов:

#### Запуск всех тестов:
```
pytest -v
```

#### Запуск конкретного теста:
```
pytest test_name.py -v
```

#### Запуск нескольких тестов с однотипным словом в названии:
```
pytest -k word_in_test -v
```

#### Вызов тестовых функций отдельных тестов:
```
Перед тестовой функцией можно указать маркировку теста, например, driving:
@pytest.mark.driving

Для запуска всех тестов с маркировкой driving необходимо выполнить команду: 
pytest -m driving -v
```

#### Добавление вспомогательных и переиспользуемых функций для выполнение тестов (при частом переиспользовании в разных тестах лучше вынести в conftest.py):
```
@pytest.fixture
def functionName():
    pass

def test_save(functionName):
    functionName()
    pass
```

#### Использование нескольких входных параметров:
```
@pytest.mark.parametrize("question, answer",[('привет','добрый день'),('как дела','хорошо'),(True, True),(1, 1)])
def test_differ(question, answer):
   assert question == answer
```

#### Пропустить тесты:
```
тест не будет считаться частью неудачной или пройденной проверки:
@pytest.mark.xfail
def ...

пропустить выполнение теста:
@pytest.mark.skip
def ...
```

#### Остановка тестов после N сбоев:
```
pytest test_example.py -v --maxfail = 3

Тест завершится после трех неудачных попыток
```

#### Одновременный запуск тестов:
```
pytest -n 3

запустит сразу три теста одновременно
```

## Формирование отчета
```
pytest test_example.py -v --junitxml="result.xml"
```